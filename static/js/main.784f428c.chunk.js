(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){},145:function(e,t,a){},148:function(e,t,a){},150:function(e,t,a){},152:function(e,t,a){},154:function(e,t,a){},156:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(69),r=a.n(c),s=(a(80),a(5)),l=a(6),i=a(9),u=a(7),m=a(8),d=a(4),p="SIGNIN",h="SIGNOUT",f="SIGNINGIN",v="NEWUSER",b="REGISTERING",g="REGISTER",E="FETCHING_ROOMS",y="UPDATE_ROOMS",O="SELECT_CHAT_ROOM",j="FETCHING_INVITES",w="GET_INVITES",N="DELETE_INVITE",R="CLEAN_CHAT_REDUCER",k="DELETE_USER",C="UPDATE_MESSAGES",_=a(12),I=a.n(_).a.initializeApp({apiKey:"AIzaSyCyFwexoUngNo92rHXrDZPhctCY6vmFkik",authDomain:"reactchat-7902e.firebaseapp.com",databaseURL:"https://reactchat-7902e.firebaseio.com",projectId:"reactchat-7902e",storageBucket:"reactchat-7902e.appspot.com",messagingSenderId:"479296809558"});a(141);var U=a(2),S=a(55),L=a.n(S),D=a(71);function A(e){return function(t){t({type:O,payload:e})}}function T(){return function(e){return e({type:j,payload:null}),I.firestore().collection("invites").doc(I.auth().currentUser.email).onSnapshot(function(t){if(null!=t.data()){console.log("fetching invites",t.data(),null==t.data());var a=t.data().rooms?t.data().rooms:null;if(console.log(a),a){var n=[];a.forEach(function(){var t=Object(D.a)(L.a.mark(function t(a){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,I.firestore().collection("chatrooms").doc(a).get().then(function(t){console.warn(t.data()),n.push(t.data()),e({type:w,payload:t.data()})});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),console.warn(n)}else e({type:w,payload:null})}else e({type:w,payload:null})})}}a(145),a(147),a(148);var x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showInput:!1,newRoomName:""},console.log(a.props),a.showRoomInput=a.showRoomInput.bind(Object(U.a)(Object(U.a)(a))),a.hideRoomInput=a.hideRoomInput.bind(Object(U.a)(Object(U.a)(a))),a.createChatRoom=a.createChatRoom.bind(Object(U.a)(Object(U.a)(a))),a.updateNewRoomName=a.updateNewRoomName.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"showRoomInput",value:function(){console.log("new room creation started "),this.setState({showInput:!0})}},{key:"hideRoomInput",value:function(){console.log("new room creation cancelled "),this.setState({showInput:!1,newRoomName:""})}},{key:"updateNewRoomName",value:function(e){this.setState({newRoomName:e.target.value})}},{key:"createChatRoom",value:function(){""!==this.state.newRoomName.trim()&&function(e){I.firestore().collection("chatrooms").add({roomName:e,owner:I.auth().currentUser.uid,ownerName:I.auth().currentUser.displayName,created_at:new Date}).then(function(e){console.log(e);var t=e.id,a=I.auth().currentUser;I.firestore().collection("users").doc(a.uid).update({chatrooms:_.firestore.FieldValue.arrayUnion(t)}),I.firestore().collection("chatrooms").doc(t).update({id:t}),I.firestore().collection("chatrooms").doc(t).update({members:_.firestore.FieldValue.arrayUnion({name:a.displayName,id:a.uid,photoURL:a.photoURL})})}).catch(function(e){console.error(e)})}(this.state.newRoomName),this.setState({showInput:!1,newRoomName:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"row "},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row create_room_button_container"},o.a.createElement("button",{className:"show_room_input",onClick:this.showRoomInput},"Create a New Room")),this.state.showInput?o.a.createElement("div",{className:"row create_room_input_container"},o.a.createElement("div",{className:"col-8"},o.a.createElement("input",{type:"text",className:"room_name",autocomplete:"off",placeholder:"enter a name for the chat room",name:"chat_room",value:this.state.newRoomName,onChange:this.updateNewRoomName})),o.a.createElement("div",{className:"col-1 cancel_button_container"},o.a.createElement("img",{className:"cancel_creation",onClick:this.hideRoomInput,src:"https://firebasestorage.googleapis.com/v0/b/reactchat-7902e.appspot.com/o/iconfinder_ban_1608568.png?alt=media&token=a81b998a-6142-486b-8a9e-687511b28504"})),o.a.createElement("div",{className:"col-1 offset-1 create_button_container"},o.a.createElement("img",{className:"creat_room",onClick:this.createChatRoom,src:"https://firebasestorage.googleapis.com/v0/b/reactchat-7902e.appspot.com/o/iconfinder_Dialog-Apply-64_55520.png?alt=media&token=07174ff3-a4ff-40bf-9c30-913e05e7d910"}))):null))}}]),t}(n.Component);var F=Object(d.b)(function(e){return{}},{})(x),G=(a(150),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).acceptInvite=a.acceptInvite.bind(Object(U.a)(Object(U.a)(a))),a.rejectInvite=a.rejectInvite.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"acceptInvite",value:function(e){console.log(e.target.id),function(e){var t=I.auth().currentUser;I.firestore().collection("users").doc(t.uid).update({chatrooms:_.firestore.FieldValue.arrayUnion(e)}),I.firestore().collection("chatrooms").doc(e).update({members:_.firestore.FieldValue.arrayUnion({name:t.displayName,id:t.uid,photoURL:t.photoURL})})}(e.target.id),this.props.deleteInvite(e.target.id)}},{key:"rejectInvite",value:function(e){console.log(e.target.id),this.props.deleteInvite(e.target.id)}},{key:"componentDidUpdate",value:function(){console.log(this.props.rooms)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row invites_box"},o.a.createElement("p",null,"Pending Invites"),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row joined_rooms_container"},o.a.createElement("div",{className:"col-12"},null!=this.props.irooms?this.props.irooms.map(function(t){return o.a.createElement("div",{className:"row invite_room",key:t.created_at},o.a.createElement("div",{className:"col-9"},"You have an invite to room '",t.roomName,"' from '",t.ownerName,"'"),o.a.createElement("div",{className:"col-3"},o.a.createElement("div",{className:"row"},o.a.createElement("button",{className:"accept_invite",id:t.id,onClick:e.acceptInvite},"Accept")),o.a.createElement("div",{className:"row"},o.a.createElement("button",{className:"reject_invite",id:t.id,onClick:e.rejectInvite},"Reject"))))}):null))))}}]),t}(n.Component));var P=Object(d.b)(function(e){return{irooms:e.chatList.invitedRooms}},{selectChatRoom:A,deleteInvite:function(e){return function(t){!function(e){I.firestore().collection("invites").doc(I.auth().currentUser.email).update({rooms:_.firestore.FieldValue.arrayRemove(e)}).then(function(){T()})}(e),t({type:N,payload:e})}}})(G),V=(a(152),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={selected:null},a.selectChatroom=a.selectChatroom.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"selectChatroom",value:function(e){console.log(e.target.id),this.props.fetchMessages(e.target.id,!0),this.props.selectChatRoom(e.target.id),this.setState({selected:e.target.id})}},{key:"componentDidUpdate",value:function(){console.log(this.props.rooms)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row room_list_joined"},o.a.createElement("p",null,"Joined Chat Rooms"),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row joined_rooms_container"},o.a.createElement("div",{className:"col-12"},null!=this.props.rooms?this.props.rooms.map(function(t){return o.a.createElement("div",{className:"row room  ".concat(e.state.selected===t.id?"selected_room":""),key:t.created_at},o.a.createElement("div",{className:"col-9"},t.roomName),o.a.createElement("div",{className:"col-3"},o.a.createElement("button",{className:"select_room ",id:t.id,onClick:e.selectChatroom},e.state.selected===t.id?"Active->":"Enter")))}):null))))}}]),t}(n.Component));var M=Object(d.b)(function(e){return{rooms:e.chatList.chatRooms}},{selectChatRoom:A,fetchMessages:function(e,t){return console.log("fetch messages activated"),function(t){return t({type:C,payload:null}),I.firestore().collection("chatrooms").doc(e).collection("messages").orderBy("created_at","desc").limit(20).onSnapshot(function(e){var a=[];e.forEach(function(e){var t={message:e.data().message,sender:e.data().sender,sender_id:e.data().sender_id,created_at:e.data().created_at.toDate()};a.push(t),console.log(e.id," => ",e.data())}),console.log("messages",e),t({type:C,payload:a})},function(e){console.warn(e)})}}})(V),W=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row chat_list_container"},o.a.createElement("div",{className:"col-12"},o.a.createElement(F,null),o.a.createElement(P,null),o.a.createElement(M,null)))}}]),t}(n.Component);var H=Object(d.b)(function(e){return{}},{})(W),B=(a(154),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={text:""},a.typing=a.typing.bind(Object(U.a)(Object(U.a)(a))),a.send=a.send.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"typing",value:function(e){this.setState({text:e.target.value})}},{key:"send",value:function(){var e,t;console.log("sending message"),e=this.props.selectedRoom.id,t=this.state.text,I.firestore().collection("chatrooms").doc(e).collection("messages").add({sender:I.auth().currentUser.displayName,sender_id:I.auth().currentUser.uid,message:t,created_at:new Date}),this.setState({text:""})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row chat_list_container"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row"},"ROOM TITLE ",null!=this.props.selectedRoom?this.props.selectedRoom.roomName:""),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"message_container"},null!=this.props.messages?this.props.messages.map(function(t){return o.a.createElement("div",{className:"message ",key:t.created_at},t.sender_id===e.props.user.uid?"":o.a.createElement("span",null,t.sender,": "),t.message)}):null)),o.a.createElement("div",{className:"input_box"},o.a.createElement("input",{type:"text",name:"chat_text",onChange:this.typing,value:this.state.text}),o.a.createElement("button",{className:"send_message",onClick:this.send},"SEND"))))}}]),t}(n.Component));var J=Object(d.b)(function(e){return{selectedRoom:e.chatList.currentlySelectedRoom,user:e.auth.user,messages:e.chatList.messageCache}},{})(B),z=a(38),K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={emailInvite:""},a.emailChange=a.emailChange.bind(Object(U.a)(Object(U.a)(a))),a.memberAdd=a.memberAdd.bind(Object(U.a)(Object(U.a)(a))),a.kickUser=a.kickUser.bind(Object(U.a)(Object(U.a)(a))),a.deleteRoom=a.deleteRoom.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"emailChange",value:function(e){this.setState({emailInvite:e.target.value})}},{key:"memberAdd",value:function(){var e,t;console.log("send email invite data to firestore"),e=this.state.emailInvite,t=this.props.selectedRoom.id,I.firestore().collection("invites").doc(e).set({rooms:_.firestore.FieldValue.arrayUnion(t)},{merge:!0})}},{key:"kickUser",value:function(e){this.props.kickUserFromChat(this.props.selectedRoom.id,e.target.id)}},{key:"deleteRoom",value:function(){var e;console.log("delete room"),e=this.props.selectedRoom,console.log(e),e.members.forEach(function(t){I.firestore().collection("users").doc(t.id).update({chatrooms:_.firestore.FieldValue.arrayRemove(e.id)})}),I.firestore().collection("chatrooms").doc(e.id).delete()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row chat_list_container"},null!=this.props.selectedRoom?o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row"},"Chat room title is  ",this.props.selectedRoom.roomName),o.a.createElement("div",{className:"row"},"Owner is ",this.props.selectedRoom.ownerName),o.a.createElement("div",{className:"row"},"Created at ",JSON.stringify(new Date(this.props.selectedRoom.created_at.toDate()).toLocaleString())),this.props.selectedRoom.owner===this.props.user.uid?o.a.createElement("div",{className:"row"},o.a.createElement("p",null," Add a user to chatroom - "),o.a.createElement("div",{className:"newuser_email"},o.a.createElement("input",{type:"email",name:"email",onChange:this.emailChange,value:this.state.emailInvite}),o.a.createElement("button",{onClick:this.memberAdd},"Send Invite "))):"",o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 members_containers"},Object(z.a)(this.props.selectedRoom.members).map(function(t,a){return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col-8"},t.name),o.a.createElement("div",{className:"col-4"},t.id===e.props.selectedRoom.owner?"OWNER":e.props.user.uid===e.props.selectedRoom.owner?o.a.createElement("button",{id:t.id,className:"remove_member",onClick:e.kickUser},"Kick Out"):""))}))),this.props.selectedRoom.owner===this.props.user.uid?o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 delete_room"},o.a.createElement("button",{className:"delete_chat_button",onClick:this.deleteRoom},"Delete this Room"))):""):"")}}]),t}(n.Component);var Y=Object(d.b)(function(e){return{selectedRoom:e.chatList.currentlySelectedRoom,rooms:e.chatList.chatRooms,user:e.auth.user}},{kickUserFromChat:function(e,t){return function(a){!function(e,t){console.log("user deletion reeived",e,t),I.firestore().collection("chatrooms").doc(e).get().then(function(a){var n=a.data();console.log(n.members),I.firestore().collection("chatrooms").doc(e).update({members:n.members.filter(function(e){return e.id!==t})}),I.firestore().collection("users").doc(t).update({chatrooms:_.firestore.FieldValue.arrayRemove(e)})})}(e,t),a({type:k,payload:null})}}})(K),X=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e)),console.log(a.props),a.logout=a.logout.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("home mounted"),setTimeout(function(){null!==e.props.user&&(e.props.fetchRooms(),e.props.getInvites())},2e3)}},{key:"componentDidUpdate",value:function(){console.log("home updated"),null!==this.props.user&&(this.props.fetchRooms(),this.props.getInvites())}},{key:"componentWillUnmount",value:function(){this.props.cleanStateOnleaveHome(),console.log("***************************************************************************")}},{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"title_bar_container"},o.a.createElement("div",{className:"title"},o.a.createElement("p",null,"Welcome to Nik CHat ,  ",this.props.user.displayName,"  ")),o.a.createElement("button",{className:"logout_button btn",onClick:this.logout},"Logout "))),o.a.createElement("div",{className:"row components"},o.a.createElement("div",{className:"col-4"},o.a.createElement(H,null)),o.a.createElement("div",{className:"col-5"},o.a.createElement(J,null)),o.a.createElement("div",{className:"col-3"},o.a.createElement(Y,null))))}},{key:"logout",value:function(){console.log("logout"),this.props.logout()}}]),t}(n.Component);var Z=Object(d.b)(function(e){return{user:e.auth.user}},{logout:function(){return console.log("logout called"),function(e){return I.auth().signOut().then(function(t){console.log("logout",t),e({type:h,payload:null})})}},fetchRooms:function(){return function(e){return console.log("fetch rooms method called"),e({type:E,payload:null}),I.firestore().collection("users").doc(I.auth().currentUser.uid).onSnapshot(function(t){console.log("fetching rooms",t.data().chatrooms);var a=t.data().chatrooms?t.data().chatrooms:null;if(console.log(a),a){var n=[],o=[];a.forEach(function(e){console.log(e),o.push(new Promise(function(t,a){I.firestore().collection("chatrooms").doc(e).get().then(function(e){console.warn("inside loop",e.data()),t(e.data())})}))}),Promise.all(o).then(function(t){console.log(t),e({type:y,payload:t})}),console.log("outside loop"),e({type:y,payload:n}),console.warn(n)}else e({type:y,payload:null})})}},getInvites:T,cleanStateOnleaveHome:function(){return function(e){e({type:R,payload:null})}}})(X),$=a(25),q=(a(156),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:""},a.onChange=a.onChange.bind(Object(U.a)(Object(U.a)(a))),a.onSubmit=a.onSubmit.bind(Object(U.a)(Object(U.a)(a))),a.newUser=a.newUser.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){e.preventDefault(),this.setState(Object($.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log("clicked sign in "),this.props.login(this.state.email,this.state.password)}},{key:"newUser",value:function(){this.props.newUser()}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Sign in  "),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",null,o.a.createElement("label",null,"Email "),o.a.createElement("input",{type:"email",name:"email",onChange:this.onChange,value:this.state.email})),o.a.createElement("div",null,o.a.createElement("label",null,"Password "),o.a.createElement("input",{type:"password",name:"password",onChange:this.onChange,value:this.state.password})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Login")),o.a.createElement("p",null,"New User? ",o.a.createElement("button",{onClick:this.newUser},"Sign Up")))}}]),t}(n.Component)),Q=Object(d.b)(null,{login:function(e,t){return function(a){return console.log("sign in method called"),a({type:f,payload:null}),I.auth().signInWithEmailAndPassword(e,t).then(function(e){console.log(e);var t=e.user;a({type:p,payload:t})}).catch(function(e){a({type:h,payload:null})})}},newUser:function(){return console.log("new user , show registration page"),function(e){e({type:v,payload:null})}}})(q),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",name:""},a.onChange=a.onChange.bind(Object(U.a)(Object(U.a)(a))),a.onSubmit=a.onSubmit.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){e.preventDefault(),this.setState(Object($.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),console.log("clicked sign in "),this.props.registerUser(this.state.email,this.state.password,this.state.name)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Sign Up  "),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",null,o.a.createElement("label",null,"Name "),o.a.createElement("input",{type:"text",name:"name",onChange:this.onChange,value:this.state.name})),o.a.createElement("div",null,o.a.createElement("label",null,"Email "),o.a.createElement("input",{type:"email",name:"email",onChange:this.onChange,value:this.state.email})),o.a.createElement("div",null,o.a.createElement("label",null,"Password "),o.a.createElement("input",{type:"password",name:"password",onChange:this.onChange,value:this.state.password})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Login")))}}]),t}(n.Component),te=Object(d.b)(null,{registerUser:function(e,t,a){return function(n){return n({type:b,payload:null}),I.auth().createUserWithEmailAndPassword(e,t).then(function(e){console.log(e),e.user.updateProfile({displayName:a,photoURL:"https://cdn4.iconfinder.com/data/icons/evil-icons-user-interface/64/avatar-512.png"}).then(function(){console.log("user name and pic updated",e,e.user);var t=I.auth().currentUser,a=t.displayName,o=t.photoURL,c=t.email,r=t.uid;I.firestore().collection("users").doc(r).set({name:a,email:c,photoURL:o,uid:r,created_at:new Date}).then(function(e){console.log(" new user added to DB",e)}).catch(function(e){console.log("error adding new user to firestore",e)}),n({type:g,payload:e.user})}).catch(function(e){})}).catch(function(e){console.log("registration errors ",e)})}}})(ee),ae=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.newuser?o.a.createElement(te,null):o.a.createElement(Q,null))}}]),t}(n.Component);var ne=Object(d.b)(function(e){return{newuser:e.auth.newUser}},{})(ae),oe=a(32),ce=a(72);oe.b.add(ce.a);var re=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){console.log("app mounted"),this.authListener()}},{key:"authListener",value:function(){var e=this;I.auth().onAuthStateChanged(function(t){t?(e.props.silentLogin(t),console.log("auto signin user is signed in ",t)):(e.props.silentLogin(null),console.log("no user signed in"))})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},null==this.props.user?o.a.createElement(ne,null):o.a.createElement(Z,null))}}]),t}(n.Component);var se=Object(d.b)(function(e){return{user:e.auth.user}},{silentLogin:function(e){return function(t){t({type:p,payload:e})}}})(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=a(21),ie=a(73),ue=a(74),me=a(10),de={user:null,newUser:!1},pe={chatRooms:[],currentlySelectedRoom:null,invitedRooms:[],messageCache:null},he=Object(le.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(me.a)({},e,{user:t.payload,newUser:!1});case h:return{newUser:!1,user:null};case f:return Object(me.a)({},e,{user:null});case v:return Object(me.a)({},e,{newUser:!0});case g:return Object(me.a)({},e,{user:t.payload});case b:return Object(me.a)({},e);default:return e}},chatList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(me.a)({},e,{chatRooms:[],currentlySelectedRoom:null,invitedRooms:[],messageCache:[]});case E:return Object(me.a)({},e);case y:return null===t.payload?e:Object(me.a)({},e,{chatRooms:t.payload});case O:return e.currentlySelectedRoom,Object(me.a)({},e,{currentlySelectedRoom:e.chatRooms.find(function(e){return e.id===t.payload}),messageCache:null});case C:return Object(me.a)({},e,{messageCache:t.payload});case j:return e;case w:return null===t.payload?e:-1===e.invitedRooms.findIndex(function(e){return e.id===t.payload.id})?Object(me.a)({},e,{invitedRooms:[].concat(Object(z.a)(e.invitedRooms),[t.payload])}):e;case N:var a=e.invitedRooms.filter(function(e){return e.id!==t.payload});return Object(me.a)({},e,{invitedRooms:a});default:return e}}}),fe=[ie.a,Object(ue.createLogger)()],ve=Object(le.d)(he,{},le.a.apply(void 0,fe));a(158);r.a.render(o.a.createElement(d.a,{store:ve},o.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,a){e.exports=a(160)},80:function(e,t,a){}},[[75,2,1]]]);
//# sourceMappingURL=main.784f428c.chunk.js.map